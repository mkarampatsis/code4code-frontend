<main class="py-5 mt-[100px] lg:mt-[107px]">
  
    <section>
      <div class="container">
        <div class="max-w-[800px] mx-auto self-center w-full">
          <div class="mb-10 text-center">
            <h2>Create Exercise for {{course}}</h2>
          </div>
        </div>
      </div>
    </section>
  
    <section class="my-32">
        <div class="container">
            <div class="flex h-full px-6">
                <div class="grid grid-cols-1 gap-3 lg:grid-cols-3 mx-auto">
                    <!-- Instructions -->
                    <div class="flex flex-col h-full gap-4">
                        <div class="flex-1 overflow-y-auto text-black bg-white rounded-lg p-9 max-h-[200px] min-h-[200px]">
                            <h6>Exercise Description</h6>
                            <div [innerHTML]="exercise.exercise_description"></div>
                       </div>
                        <lib-hint [exerice]="exercise"></lib-hint>
                       
                        <div class="px-10 py-3 bg-black rounded-lg">
                            <a (click)="showExerciseDetails()" class="button button-dark">
                                Details
                                <svg width="14" height="15" viewBox="0 0 14 15" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M0.979812 14.9274C0.635508 14.7909 0.358111 14.5274 0.206084 14.1923C-0.138383 13.5132 -0.0235609 12.8342 0.347404 12.2636C0.697172 11.7263 1.27658 11.2695 1.93196 10.8862C2.7621 10.4197 3.63961 10.0414 4.54991 9.75735C5.25683 8.49824 5.8834 7.19647 6.42594 5.85969C6.10157 5.12946 5.84725 4.37063 5.66634 3.5932C5.51442 2.89313 5.45613 2.20006 5.58508 1.605C5.71757 0.985434 6.0691 0.428876 6.73331 0.164599C7.07248 0.0298345 7.43991 -0.0454231 7.79674 0.0298347C7.97624 0.0676929 8.14498 0.14466 8.29072 0.255153C8.43647 0.365646 8.55556 0.506894 8.63936 0.668651C8.79482 0.955681 8.85134 1.29172 8.86371 1.61025C8.87607 1.93753 8.84251 2.30157 8.78068 2.68486C8.6323 3.57745 8.30373 4.66957 7.8621 5.82469C8.34946 6.85733 8.92882 7.84484 9.59327 8.77549C10.3795 8.71396 11.1704 8.74333 11.9498 8.863C12.5928 8.97676 13.2464 9.20429 13.6456 9.67684C13.8576 9.92886 13.9866 10.2369 13.9989 10.5834C14.0113 10.9195 13.9159 11.252 13.7552 11.5688C13.6159 11.8623 13.4 12.1137 13.1298 12.2969C12.8627 12.4695 12.5474 12.554 12.2289 12.5384C11.6442 12.5139 11.0736 12.1953 10.5807 11.8086C9.98149 11.3176 9.44148 10.7597 8.97147 10.1459C7.77686 10.2801 6.59644 10.5179 5.44376 10.8565C4.9153 11.784 4.31214 12.6678 3.64016 13.4992C3.12788 14.1118 2.56613 14.6456 2.00438 14.8766C1.68162 15.0213 1.31553 15.0394 0.979812 14.9274ZM3.41582 11.6003C3.12258 11.7333 2.85054 11.8733 2.60499 12.0168C2.02558 12.3564 1.64932 12.6871 1.46207 12.9742C1.29602 13.228 1.29248 13.4117 1.39141 13.606C1.40907 13.6445 1.42674 13.669 1.43734 13.683C1.45841 13.6774 1.47906 13.6704 1.49916 13.662C1.74117 13.564 2.12627 13.2507 2.62089 12.6609C2.9022 12.3197 3.16746 11.9658 3.41582 11.6003ZM6.31288 9.27254C6.90274 9.13603 7.49795 9.02334 8.09705 8.93476C7.77526 8.44717 7.47468 7.94616 7.19613 7.4331C6.91911 8.05373 6.62458 8.66653 6.31288 9.27079V9.27254ZM10.6337 10.0601C10.8987 10.3437 11.1566 10.5852 11.4022 10.7777C11.8261 11.1102 12.1211 11.2205 12.2819 11.2257C12.3249 11.2313 12.3686 11.2221 12.4055 11.1995C12.479 11.142 12.5362 11.0666 12.5716 10.9807C12.6344 10.8741 12.6702 10.754 12.6758 10.6307C12.6748 10.5896 12.6584 10.5503 12.6299 10.5204C12.538 10.4119 12.2766 10.2544 11.7148 10.1546C11.3575 10.0955 10.996 10.0644 10.6337 10.0619V10.0601ZM7.11841 3.92399C7.26708 3.44885 7.38508 2.96482 7.47171 2.47484C7.52647 2.1458 7.54767 1.87453 7.53883 1.661C7.53932 1.5432 7.52022 1.42612 7.48231 1.31447C7.39394 1.32531 7.30764 1.34889 7.22616 1.38448C7.07248 1.44573 6.94705 1.56999 6.87993 1.87978C6.80927 2.21581 6.82693 2.70061 6.96119 3.31843C7.00358 3.5127 7.05658 3.71572 7.12017 3.92399H7.11841Z" />
                                </svg>
                            </a>
                            <a href="" class="button button-dark">
                                Video
                                <svg width="11" height="13" viewBox="0 0 11 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1.525 12.2231C1.19167 12.4398 0.854333 12.4524 0.513 12.2611C0.171666 12.0698 0.000666667 11.7738 0 11.3731V1.02309C0 0.623088 0.171 0.327088 0.513 0.135088C0.855 -0.0569121 1.19233 -0.0442453 1.525 0.173088L9.675 5.34809C9.975 5.54809 10.125 5.83142 10.125 6.19809C10.125 6.56475 9.975 6.84809 9.675 7.04809L1.525 12.2231Z" fill="white"/>
                                </svg>
                            </a>
                        </div>
                    </div>

                    <!-- Code Editor -->
                    <div class="flex flex-col h-full">
                        <form class=" max-h-full min-h-full" [formGroup]="form">
                            <app-editor formControlName="code" [codeType]=course ></app-editor>
                        </form>
                    </div>
                    
                    <div class="flex flex-col h-full gap-2">
                        <div #preview class="text-white p-4 border rounded-lg max-h-half min-h-half overflow-auto" [innerHtml]="output">                        
                        </div>
                        <div class="text-white border rounded-lg max-h-half min-h-half overflow-auto">
                            @if (course =='python') {
                                <iframe  src="https://pyodide.org/en/stable/console.html" frameborder="0" style="width:100%;height:100%;"></iframe>
                            } @else {
                                <app-terminal></app-terminal>
                            }
                        </div>
                    </div>
                </div>

               
            </div>
            <div class="px-6 py-5">
                <div class="grid items-center h-full gap-7">
                    <!-- Preview Code Window Footer -->
                    <div class="flex flex-wrap items-center justify-start gap-3 lg:justify-end mx-auto">
                        
                        <a (click)="nextExercise()" class="button button-outline">
                            Add Hint
                        </a>
                        <a (click)="addDescription()" class="button button-outline">
                            Add Description
                        </a>
                        <a href="" class="button button-outline">
                            Add Theory
                        </a>
                        <a href="" class="button button-outline">
                            Add Difficulty
                        </a>
                        <a href="" class="button button-outline">
                            Load Exercise
                        </a>
                        <a class="button button-outline" (click)="runCode()">
                            Run code
                            <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8.40381 15.5987L7.06787 14.2862L12.3179 9.03619H0.903809V7.16119H12.3179L7.06787 1.91119L8.40381 0.598694L15.9038 8.09869L8.40381 15.5987Z" />
                            </svg>
                        </a>
                        <a href="" class="button button-outline">
                            help
                            <svg width="3" height="15" viewBox="0 0 3 15" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0 3H3V0H0V3ZM0 15H3V6H0V15Z" />
                            </svg>
                            </a>
                        <a class="button button-outline button-outline__white" (click)="submit()">
                        Submit
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>  